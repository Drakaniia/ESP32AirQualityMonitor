(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9579:function(e,t,a){Promise.resolve().then(a.bind(a,8991))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},8991:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),r=a(2265),n=a(2582),o=a(9376),i=a(3439),d=a(767);function c(){let[e,t]=(0,r.useState)(""),[a,c]=(0,r.useState)(""),[l,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(!1),[w,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)({}),{login:g,signup:v}=(0,n.a)(),j=(0,o.useRouter)(),N=()=>{let t={};return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(t.email="Please enter a valid email address"):t.email="Email is required",a?l&&a.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",y(t),0===Object.keys(t).length},k=async t=>{if(t.preventDefault(),h(""),y({}),N()){x(!0);try{l?await v(e,a):await g(e,a),j.push("/dashboard")}catch(e){h(e.message),e.message.includes("No account found")&&setTimeout(()=>u(!0),2e3),e.message.includes("already exists")&&setTimeout(()=>u(!1),2e3)}finally{x(!1)}}};return(0,s.jsx)("div",{className:"flex items-center justify-center bg-transparent py-12 px-4 sm:px-6 lg:px-8 min-h-screen",children:(0,s.jsxs)(i.Z,{className:"max-w-md w-full space-y-8 rounded-2xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100/20",children:(0,s.jsx)("svg",{className:"h-8 w-8 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:l?"Create Account":"Sign In"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-white/80",children:"Air Quality Monitor Dashboard"})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:k,children:[(0,s.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border placeholder-gray-300 text-white rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm ".concat(b.email?"border-red-300":"border-white/30 bg-white/10"),placeholder:"Email address",value:e,onChange:e=>{t(e.target.value),b.email&&y({...b,email:void 0})}}),b.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-300",children:b.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:l?"new-password":"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border placeholder-gray-300 text-white rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm ".concat(b.password?"border-red-300":"border-white/30 bg-white/10"),placeholder:l?"Create a password (min. 6 characters)":"Password",value:a,onChange:e=>{c(e.target.value),b.password&&y({...b,password:void 0})}}),b.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-300",children:b.password}),l&&a&&a.length>=6&&(0,s.jsx)("p",{className:"mt-1 text-sm text-green-300",children:"âœ“ Password meets requirements"})]})]}),(0,s.jsx)("div",{className:"pt-1",children:(0,s.jsx)(d.Z,{onClick:async t=>{if(t.preventDefault(),N()){x(!0),h("");try{l?await v(e,a):await g(e,a),j.push("/dashboard")}catch(e){h(e.message),e.message.includes("No account found")&&setTimeout(()=>u(!0),2e3),e.message.includes("already exists")&&setTimeout(()=>u(!1),2e3)}finally{x(!1)}}},className:"w-full text-center py-2",disabled:p,children:p?(0,s.jsx)("div",{className:"loading-spinner w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l?"Sign Up":"Sign In"})}),(0,s.jsxs)("div",{className:"text-center space-y-1",children:[(0,s.jsx)("button",{type:"button",className:"text-white/60 text-sm px-3 py-1 rounded-lg",onClick:()=>{u(!l),h(""),y({})},children:l?"Already have an account? Sign in":"Don't have an account? Sign up"}),!l&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"text-white/60 text-sm px-3 py-1 rounded-lg",onClick:()=>f(!w),children:"Forgot your password?"})}),w&&(0,s.jsx)("div",{className:"bg-blue-50/20 border border-blue-200/30 text-blue-200 px-3 py-2 rounded text-sm backdrop-blur-sm",children:"Password reset functionality coming soon. Please contact support for assistance."})]})]})]})})}},2582:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return c}});var s=a(7437),r=a(2265),n=a(6410),o=a(2148);let i=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[c,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!n.I8){l(!1);return}return(0,o.Aj)(n.I8,e=>{d(e),l(!1)})},[]);let u=async(e,t)=>{if(!n.I8)throw Error("Authentication is not available in this environment");try{await (0,o.e5)(n.I8,e,t)}catch(t){let e="An error occurred during sign in";throw"auth/user-not-found"===t.code?e="No account found with this email address. Would you like to create an account?":"auth/wrong-password"===t.code?e="Incorrect password. Please try again or reset your password.":"auth/invalid-email"===t.code?e="Please enter a valid email address.":"auth/user-disabled"===t.code?e="This account has been disabled. Please contact support.":"auth/too-many-requests"===t.code&&(e="Too many failed attempts. Please try again later or reset your password."),Error(e)}},m=async(e,t)=>{if(!n.I8)throw Error("Authentication is not available in this environment");try{await (0,o.Xb)(n.I8,e,t)}catch(t){let e="An error occurred during sign up";throw"auth/email-already-in-use"===t.code?e="An account with this email already exists. Please sign in instead.":"auth/invalid-email"===t.code?e="Please enter a valid email address.":"auth/weak-password"===t.code?e="Password is too weak. Please use at least 6 characters.":"auth/operation-not-allowed"===t.code&&(e="Email/password accounts are not enabled. Please contact support."),Error(e)}},h=async()=>{if(n.I8)try{await (0,o.w7)(n.I8)}catch(e){throw e}};return(0,s.jsx)(i.Provider,{value:{user:a,loading:c,login:u,signup:m,logout:h},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},767:function(e,t,a){"use strict";var s=a(7437);a(2265),t.Z=e=>{let{children:t,href:a,onClick:r,className:n="",disabled:o=!1}=e,i="".concat("btn-glass flex items-center justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white focus:ring-opacity-50 transition-all duration-200 w-full text-white"," ").concat(o?"opacity-50 cursor-not-allowed":""," ").concat(n).trim();return a?(0,s.jsx)("a",{href:a,className:i,onClick:r,children:t}):(0,s.jsx)("button",{className:i,onClick:r,disabled:o,children:t})}},3439:function(e,t,a){"use strict";var s=a(7437);a(2265),t.Z=e=>{let{children:t,className:a=""}=e;return(0,s.jsxs)("div",{className:"relative ".concat(a),children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-white/20 backdrop-blur-sm border border-white/30 shadow-xl",style:{boxShadow:"inset 2px 2px 8px rgba(255, 255, 255, 0.3), inset -2px -2px 8px rgba(0, 0, 0, 0.1)",zIndex:0}}),(0,s.jsx)("div",{className:"relative z-10 p-4",children:t})]})}},6410:function(e,t,a){"use strict";a.d(t,{I8:function(){return l},db:function(){return u},uE:function(){return m}});var s=a(738),r=a(2148),n=a(5978),o=a(7292),i=a(6485);let d={apiKey:"AIzaSyAgCNERlOUnJyQsgFFGawHm9gIygUTxwQM",authDomain:"air-quality-monitor-c0862.firebaseapp.com",databaseURL:"https://air-quality-monitor-c0862-default-rtdb.firebaseio.com",projectId:"air-quality-monitor-c0862",storageBucket:"air-quality-monitor-c0862.appspot.com",messagingSenderId:"746914538418",appId:"1:746914538418:web:eb6322df4356c117affaab",measurementId:a(257).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-C2WN5ME09P"},c=(0,s.ZF)(d),l=(0,r.v0)(c),u=(0,n.ad)(c),m=(0,o.N8)(c);(0,i.cF)(c)}},function(e){e.O(0,[609,401,324,883,971,117,744],function(){return e(e.s=9579)}),_N_E=e.O()}]);